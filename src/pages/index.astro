---
import Base from '@layouts/Base.astro';
import ASCIIMindSpace from '../components/ASCIIMindSpace.astro';

const runs = [
  {
    kind: 'release',
    title: 'Echolia awakens: v0.1.0',
    date: '2024-01-12',
    tags: ['release', 'desktop'],
    body: `The mind-room opens its doors. Quiet builds for Windows, macOS, and Linux—each a warm space for your drifting thoughts.`,
    highlight: true
  },
  {
    kind: 'log',
    title: 'Warm darkness, soft glow',
    date: '2024-01-05',
    tags: ['philosophy', 'design'],
    body: `We chose rose-pink luminescence over cold blue. Every surface breathes warmth. Every glow feels like memory, not machinery.`
  },
  {
    kind: 'blog',
    title: 'A room, not a tool',
    date: '2024-01-01',
    tags: ['blog', 'philosophy'],
    body: `Echolia doesn't optimize or organize. It listens, echoes, and lets thoughts drift until they're ready to return.`,
    link: '/blog/first-echo'
  }
];
---

<Base>
  <!-- Immersive ASCII Mind-Space Hero -->
  <ASCIIMindSpace />

  <!-- Poetic Introduction -->
  <section class="mx-auto max-w-4xl px-4 py-16 md:py-24">
    <div class="space-y-8 text-center">
      <h1 class="glitch-text text-4xl md:text-6xl font-medium text-text-main leading-tight" data-text="ECHOLIA">
        ECHOLIA
      </h1>

      <div class="space-y-6">
        <p class="text-xl md:text-2xl text-text-muted leading-relaxed max-w-2xl mx-auto glow-text-pink">
          A warm, drifting space where thoughts arrive softly,
          <br />
          <span class="glow-text-cyan">echo through darkness,</span>
          <br />
          and return when they're ready.
        </p>

        <p class="font-mono text-sm text-text-muted/60 uppercase tracking-[0.3em]">
          Not a tool · Not a product · An experience
        </p>
      </div>

      <div class="flex flex-col sm:flex-row gap-4 justify-center items-center pt-8">
        <a href="#downloads" class="cta-button cta-primary">
          <span class="cta-text">Enter the mind-room</span>
          <span class="cta-glow"></span>
        </a>
        <a href="/blog" class="cta-button cta-secondary">
          <span class="cta-text">Explore philosophy</span>
        </a>
      </div>
    </div>
  </section>

  <!-- ASCII Art Divider -->
  <div class="ascii-divider">
    <pre class="ascii-art">
    ·∘○◦~※⊹⋆✧✦★☆▪▫□■◇◆△▲▽▼·∘○◦~※⊹⋆✧✦★☆▪▫□■◇◆△▲▽▼
    </pre>
  </div>

  <!-- Dual Column: Art Installation + Mind Stream -->
  <section class="mx-auto max-w-7xl px-4 pb-16 md:pb-24">
    <div class="grid gap-12 lg:grid-cols-[1.5fr_1fr]">
      <!-- Left: Mind Stream (Runs) -->
      <div class="space-y-8">
        <header class="space-y-3">
          <p class="font-mono text-xs uppercase tracking-[0.25em] text-text-muted/70 flex items-center gap-2">
            <span class="inline-block w-2 h-2 rounded-full bg-accent-pink animate-pulse"></span>
            Live stream from the mind-room
          </p>
          <h2 class="text-2xl md:text-3xl font-medium text-text-main">
            Echoes & Fragments
          </h2>
        </header>

        <div class="flex flex-col gap-5">
          {runs.map((run) => (
            <article
              class={
                'thought-card thought-card-hover relative overflow-hidden backdrop-blur-sm ' +
                (run.highlight ? 'animate-echo-pulse border-accent-pink/60' : '')
              }
            >
              <div class="flex items-start justify-between gap-4">
                <div class="space-y-2 flex-1">
                  <div class="flex items-center gap-2 font-mono text-[11px] uppercase tracking-[0.22em] text-text-muted/70">
                    <span class="inline-flex h-1.5 w-1.5 rounded-full bg-accent-pink" />
                    <span>{run.kind}</span>
                  </div>
                  <h3 class="text-base md:text-lg font-medium text-text-main">
                    {run.link ? (
                      <a href={run.link} class="hover:text-accent-pink transition-colors glitch-hover" data-text={run.title}>
                        {run.title}
                      </a>
                    ) : (
                      run.title
                    )}
                  </h3>
                  <p class="text-sm text-text-muted leading-relaxed">
                    {run.body}
                  </p>

                  {run.link && (
                    <a
                      href={run.link}
                      class="inline-flex items-center gap-1 font-mono text-xs text-accent-pink/80 hover:text-accent-pink transition-colors group"
                    >
                      <span>Read more</span>
                      <span aria-hidden="true" class="group-hover:translate-x-1 transition-transform">→</span>
                    </a>
                  )}
                </div>
                <div class="flex flex-col items-end gap-2 text-right">
                  <time datetime={run.date} class="font-mono text-[11px] text-text-muted/80">
                    {run.date}
                  </time>
                  <div class="flex flex-wrap justify-end gap-1">
                    {run.tags.map((tag) => (
                      <span class="tag-chip" data-tag={tag}>
                        {tag}
                      </span>
                    ))}
                  </div>
                </div>
              </div>
            </article>
          ))}
        </div>
      </div>

      <!-- Right: Downloads Portal -->
      <aside id="downloads" class="space-y-8">
        <div class="downloads-portal">
          <div class="portal-glow"></div>

          <div class="portal-content">
            <header class="space-y-3 mb-6">
              <p class="font-mono text-xs uppercase tracking-[0.22em] text-cyan-400/80">
                System Access
              </p>
              <h2 class="text-xl md:text-2xl text-text-main font-medium">
                Download Echolia
              </h2>
              <p class="text-sm text-text-muted leading-relaxed">
                Enter the mind-room on your platform of choice.
              </p>
            </header>

            <div class="space-y-3">
              <div class="grid grid-cols-2 gap-3">
                <a href="#" class="download-card">
                  <span class="download-icon">⊞</span>
                  <span class="download-label">Windows</span>
                  <span class="download-meta">.exe</span>
                </a>
                <a href="#" class="download-card">
                  <span class="download-icon">⌘</span>
                  <span class="download-label">macOS</span>
                  <span class="download-meta">.dmg</span>
                </a>
              </div>

              <div class="grid grid-cols-2 gap-3">
                <a href="#" class="download-card">
                  <span class="download-icon">◆</span>
                  <span class="download-label">Linux</span>
                  <span class="download-meta">.AppImage</span>
                </a>
                <a href="#" class="download-card">
                  <span class="download-icon">◎</span>
                  <span class="download-label">Mobile</span>
                  <span class="download-meta">iOS/Android</span>
                </a>
              </div>
            </div>

            <p class="pt-4 font-mono text-[11px] text-text-muted/50 leading-relaxed text-center">
              Each portal leads to the same warm darkness.
            </p>
          </div>
        </div>

        <!-- Aesthetic quote block -->
        <div class="quote-block">
          <p class="font-mono text-sm text-text-muted/80 leading-relaxed italic">
            "In the mind-room, nothing is lost.<br />
            Thoughts drift, echo, and return—<br />
            warmer than when they left."
          </p>
          <span class="quote-attribution">— The Echolia Manifesto</span>
        </div>
      </aside>
    </div>
  </section>
</Base>

<style>
  /* Glitch text effect */
  .glitch-text {
    position: relative;
    display: inline-block;
    animation: glitch-subtle 8s infinite;
  }

  .glitch-text::before,
  .glitch-text::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }

  .glitch-text::before {
    color: #FF3E8E;
    z-index: -1;
    animation: glitch-before 3s infinite;
    clip-path: polygon(0 0, 100% 0, 100% 45%, 0 45%);
  }

  .glitch-text::after {
    color: #4CD7D0;
    z-index: -2;
    animation: glitch-after 2.5s infinite;
    clip-path: polygon(0 55%, 100% 55%, 100% 100%, 0 100%);
  }

  @keyframes glitch-subtle {
    0%, 90%, 100% {
      transform: translate(0);
    }
    91%, 93% {
      transform: translate(-2px, 2px);
    }
    92%, 94% {
      transform: translate(2px, -2px);
    }
  }

  @keyframes glitch-before {
    0%, 90%, 100% {
      transform: translate(0);
    }
    91% {
      transform: translate(-3px, 0);
    }
    93% {
      transform: translate(3px, 0);
    }
  }

  @keyframes glitch-after {
    0%, 90%, 100% {
      transform: translate(0);
    }
    92% {
      transform: translate(3px, 0);
    }
    94% {
      transform: translate(-3px, 0);
    }
  }

  /* Glow text effects */
  .glow-text-pink {
    text-shadow: 0 0 20px rgba(255, 62, 142, 0.3);
  }

  .glow-text-cyan {
    color: #4CD7D0;
    text-shadow: 0 0 20px rgba(76, 215, 208, 0.4);
  }

  /* CTA Buttons */
  .cta-button {
    position: relative;
    padding: 1rem 2rem;
    font-family: var(--font-mono);
    font-size: 0.875rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    border-radius: var(--radius-button);
    transition: all 0.3s ease;
    overflow: hidden;
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }

  .cta-primary {
    background: linear-gradient(135deg, rgba(255, 62, 142, 0.2), rgba(76, 215, 208, 0.1));
    border: 2px solid #FF3E8E;
    color: var(--color-text-primary);
  }

  .cta-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 0 30px rgba(255, 62, 142, 0.5), 0 0 60px rgba(76, 215, 208, 0.3);
    border-color: #4CD7D0;
  }

  .cta-secondary {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: var(--color-text-secondary);
  }

  .cta-secondary:hover {
    background: rgba(255, 255, 255, 0.06);
    border-color: rgba(255, 62, 142, 0.3);
  }

  .cta-text {
    position: relative;
    z-index: 2;
  }

  /* ASCII Divider */
  .ascii-divider {
    width: 100%;
    overflow: hidden;
    opacity: 0.15;
    margin: 3rem 0;
  }

  .ascii-art {
    font-family: var(--font-mono);
    font-size: 0.625rem;
    color: var(--accent-pink);
    text-align: center;
    margin: 0;
    white-space: nowrap;
    animation: scroll-ascii 20s linear infinite;
  }

  @keyframes scroll-ascii {
    from {
      transform: translateX(0);
    }
    to {
      transform: translateX(-50%);
    }
  }

  /* Downloads Portal */
  .downloads-portal {
    position: relative;
    background: linear-gradient(135deg, rgba(255, 62, 142, 0.05), rgba(76, 215, 208, 0.05));
    border: 1px solid rgba(255, 62, 142, 0.2);
    border-radius: var(--radius-card);
    padding: 2rem;
    overflow: hidden;
  }

  .portal-glow {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 200px;
    height: 200px;
    background: radial-gradient(circle, rgba(255, 62, 142, 0.15), transparent 70%);
    pointer-events: none;
    animation: pulse-glow 4s ease-in-out infinite;
  }

  @keyframes pulse-glow {
    0%, 100% {
      transform: translate(-50%, -50%) scale(1);
      opacity: 0.5;
    }
    50% {
      transform: translate(-50%, -50%) scale(1.2);
      opacity: 0.8;
    }
  }

  .portal-content {
    position: relative;
    z-index: 2;
  }

  /* Download Cards */
  .download-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 1.5rem 1rem;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: var(--radius-card);
    transition: all 0.3s ease;
    cursor: pointer;
  }

  .download-card:hover {
    background: rgba(255, 62, 142, 0.08);
    border-color: rgba(255, 62, 142, 0.3);
    transform: translateY(-3px);
    box-shadow: 0 0 20px rgba(255, 62, 142, 0.2);
  }

  .download-icon {
    font-size: 2rem;
    color: var(--accent-pink);
    text-shadow: 0 0 10px rgba(255, 62, 142, 0.6);
  }

  .download-label {
    font-family: var(--font-mono);
    font-size: 0.875rem;
    color: var(--color-text-primary);
  }

  .download-meta {
    font-family: var(--font-mono);
    font-size: 0.625rem;
    color: var(--color-text-tertiary);
  }

  /* Quote Block */
  .quote-block {
    padding: 1.5rem;
    background: rgba(255, 255, 255, 0.02);
    border-left: 3px solid var(--accent-pink);
    border-radius: 4px;
  }

  .quote-attribution {
    display: block;
    margin-top: 0.75rem;
    font-family: var(--font-mono);
    font-size: 0.625rem;
    color: var(--color-text-tertiary);
    text-align: right;
  }

  /* Responsive */
  @media (max-width: 1024px) {
    .ascii-divider {
      display: none;
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .glitch-text,
    .glitch-text::before,
    .glitch-text::after,
    .ascii-art,
    .portal-glow {
      animation: none !important;
    }
  }
</style>

