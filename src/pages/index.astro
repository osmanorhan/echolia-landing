---
import Base from '@layouts/Base.astro';

const runs = [
  {
    kind: 'release',
    title: 'System boot: Echolia 0.1.0',
    date: '2024-01-12',
    tags: ['release', 'desktop'],
    body: `Initial public build of the mind-room. Windows, macOS and Linux downloads are now live.`,
    highlight: true
  },
  {
    kind: 'log',
    title: 'Analog sci-fi, not productivity SaaS',
    date: '2024-01-05',
    tags: ['philosophy', 'design'],
    body: `We tuned the interface to feel like a soft, cyber-analog console: deep backgrounds, echo-blue glows, and film grain instead of gradients.`
  },
  {
    kind: 'blog',
    title: 'First echo from the mind-room',
    date: '2024-01-01',
    tags: ['blog', 'philosophy'],
    body: `Why Echolia behaves like a quiet room for unfinished thoughts instead of a chat app.`,
    link: '/blog/first-echo'
  }
];
---

<Base>
  <section class="mx-auto flex max-w-6xl flex-col gap-12 px-4 pt-10 pb-16 md:pt-16">
    <div class="grid gap-10 lg:grid-cols-[minmax(0,2.2fr)_minmax(260px,0.8fr)]">
      <div class="space-y-8">
        <header class="mb-4 space-y-3">
          <p class="text-xs uppercase tracking-[0.25em] text-text-muted/80">Run stream</p>
          <h1 class="text-2xl md:text-3xl font-semibold text-text-main">
            A dark, drifting mind-room for unfinished thoughts.
          </h1>
          <p class="max-w-xl text-sm text-text-muted">
            Not a chat window. Not a task list. Echolia is a quiet, analog sci-fi console where thoughts arrive, drift, and echo back later.
          </p>
        </header>

        <div class="flex flex-col gap-4 md:gap-5">
          {runs.map((run) => (
            <article
              class={
                'thought-card thought-card-hover relative overflow-hidden ' +
                (run.highlight ? 'animate-echo-pulse border-accent-echo/60' : '')
              }
            >
              <div class="flex items-start justify-between gap-4">
                <div class="space-y-2">
                  <div class="flex items-center gap-2 text-[11px] uppercase tracking-[0.22em] text-text-muted/80">
                    <span class="inline-flex h-1.5 w-1.5 rounded-full bg-accent-echo" />
                    <span>{run.kind}</span>
                  </div>
                  <h2 class="text-base md:text-lg font-medium text-text-main">
                    {run.link ? (
                      <a href={run.link} class="hover:text-accent-echo transition-colors">
                        {run.title}
                      </a>
                    ) : (
                      run.title
                    )}
                  </h2>
                  <p class="text-sm text-text-muted leading-relaxed">
                    {run.body}
                  </p>

                  {run.link && (
                    <a
                      href={run.link}
                      class="inline-flex items-center gap-1 text-xs text-accent-echo/80 hover:text-accent-echo transition-colors"
                    >
                      <span>Open log</span>
                      <span aria-hidden="true">â†—</span>
                    </a>
                  )}
                </div>
                <div class="flex flex-col items-end gap-2 text-right">
                  <time datetime={run.date} class="text-[11px] text-text-muted/80 font-mono">
                    {run.date}
                  </time>
                  <div class="flex flex-wrap justify-end gap-1">
                    {run.tags.map((tag) => (
                      <span class="tag-chip" data-tag={tag}>
                        {tag}
                      </span>
                    ))}
                  </div>
                </div>
              </div>
            </article>
          ))}
        </div>
      </div>

      <aside
        id="downloads"
        class="lg:sticky lg:top-28 h-max rounded-thought border border-white/7 bg-gradient-to-b from-white/5 to-black/40 p-4 md:p-5 backdrop-blur-xl"
      >
        <div class="mb-4 space-y-1">
          <p class="text-xs uppercase tracking-[0.22em] text-text-muted/80">Get Echolia</p>
          <h2 class="text-sm md:text-base text-text-main/90">
            Install the mind-room on your machines.
          </h2>
          <p class="text-xs text-text-muted">
            Desktop builds for Windows, macOS, Linux, plus mobile.
          </p>
        </div>

        <div class="space-y-3">
          <div class="grid grid-cols-2 gap-2">
            <a
              href="#"
              class="thought-card thought-card-hover flex flex-col gap-1 bg-white/5 border-white/10 text-xs"
            >
              <span class="font-mono text-[11px] text-text-muted/80">desktop</span>
              <span class="text-sm text-text-main/90">Windows</span>
              <span class="text-[11px] text-text-muted">Download .exe</span>
            </a>
            <a
              href="#"
              class="thought-card thought-card-hover flex flex-col gap-1 bg-white/5 border-white/10 text-xs"
            >
              <span class="font-mono text-[11px] text-text-muted/80">desktop</span>
              <span class="text-sm text-text-main/90">macOS</span>
              <span class="text-[11px] text-text-muted">Download .dmg</span>
            </a>
          </div>

          <div class="grid grid-cols-2 gap-2">
            <a
              href="#"
              class="thought-card thought-card-hover flex flex-col gap-1 bg-white/5 border-white/10 text-xs"
            >
              <span class="font-mono text-[11px] text-text-muted/80">desktop</span>
              <span class="text-sm text-text-main/90">Linux</span>
              <span class="text-[11px] text-text-muted">AppImage / .deb</span>
            </a>
            <a
              href="#"
              class="thought-card thought-card-hover flex flex-col gap-1 bg-white/5 border-white/10 text-xs"
            >
              <span class="font-mono text-[11px] text-text-muted/80">mobile</span>
              <span class="text-sm text-text-main/90">Mobile</span>
              <span class="text-[11px] text-text-muted">App Store / Play</span>
            </a>
          </div>

          <p class="pt-2 text-[11px] text-text-muted leading-relaxed">
            Replace the placeholders above with real URLs for your Windows, macOS, Linux and mobile builds. The cards will stay pinned as you scroll the run stream.
          </p>
        </div>
      </aside>
    </div>
  </section>
</Base>

