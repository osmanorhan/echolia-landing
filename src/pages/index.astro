---
import Base from '@layouts/Base.astro';

const runs = [
  {
    kind: 'release',
    title: 'Echolia awakens: v0.1.0',
    date: '2024-01-12',
    tags: ['release', 'desktop'],
    body: `The mind-room opens its doors. Quiet builds for Windows, macOS, and Linux—each a warm space for your drifting thoughts.`,
    highlight: true
  },
  {
    kind: 'log',
    title: 'Warm darkness, soft glow',
    date: '2024-01-05',
    tags: ['philosophy', 'design'],
    body: `We chose rose-pink luminescence over cold blue. Every surface breathes warmth. Every glow feels like memory, not machinery.`
  },
  {
    kind: 'blog',
    title: 'A room, not a tool',
    date: '2024-01-01',
    tags: ['blog', 'philosophy'],
    body: `Echolia doesn't optimize or organize. It listens, echoes, and lets thoughts drift until they're ready to return.`,
    link: '/blog/first-echo'
  }
];
---

<Base>
  <section class="mx-auto flex max-w-6xl flex-col gap-12 px-4 pt-10 pb-16 md:pt-16">
    <div class="grid gap-10 lg:grid-cols-[minmax(0,2.2fr)_minmax(260px,0.8fr)]">
      <div class="space-y-8">
        <header class="mb-6 space-y-4">
          <p class="font-mono text-xs uppercase tracking-[0.25em] text-text-muted/70">
            Mind stream
          </p>
          <h1 class="text-3xl md:text-4xl font-medium text-text-main leading-tight">
            A warm, drifting space<br />for unfinished thoughts.
          </h1>
          <p class="max-w-xl text-base md:text-lg text-text-muted leading-relaxed">
            Not a tool. Not a product. Echolia is a quiet mind-room where thoughts arrive softly, drift in warm darkness, and echo back when they're ready.
          </p>
        </header>

        <div class="flex flex-col gap-4 md:gap-5">
          {runs.map((run) => (
            <article
              class={
                'thought-card thought-card-hover relative overflow-hidden ' +
                (run.highlight ? 'animate-echo-pulse border-accent-echo/60' : '')
              }
            >
              <div class="flex items-start justify-between gap-4">
                <div class="space-y-2">
                  <div class="flex items-center gap-2 font-mono text-[11px] uppercase tracking-[0.22em] text-text-muted/70">
                    <span class="inline-flex h-1.5 w-1.5 rounded-full bg-accent-pink" />
                    <span>{run.kind}</span>
                  </div>
                  <h2 class="text-base md:text-lg font-medium text-text-main">
                    {run.link ? (
                      <a href={run.link} class="hover:text-accent-echo transition-colors">
                        {run.title}
                      </a>
                    ) : (
                      run.title
                    )}
                  </h2>
                  <p class="text-sm text-text-muted leading-relaxed">
                    {run.body}
                  </p>

                  {run.link && (
                    <a
                      href={run.link}
                      class="inline-flex items-center gap-1 font-mono text-xs text-accent-pink/80 hover:text-accent-pink transition-colors"
                    >
                      <span>Read more</span>
                      <span aria-hidden="true">→</span>
                    </a>
                  )}
                </div>
                <div class="flex flex-col items-end gap-2 text-right">
                  <time datetime={run.date} class="text-[11px] text-text-muted/80 font-mono">
                    {run.date}
                  </time>
                  <div class="flex flex-wrap justify-end gap-1">
                    {run.tags.map((tag) => (
                      <span class="tag-chip" data-tag={tag}>
                        {tag}
                      </span>
                    ))}
                  </div>
                </div>
              </div>
            </article>
          ))}
        </div>
      </div>

      <aside
        id="downloads"
        class="lg:sticky lg:top-28 h-max border border-white/7 bg-gradient-to-b from-white/5 to-black/40 p-5 md:p-6 backdrop-blur-xl"
        style="border-radius: var(--radius-card);"
      >
        <div class="mb-5 space-y-2">
          <p class="font-mono text-xs uppercase tracking-[0.22em] text-text-muted/70">
            Enter the room
          </p>
          <h2 class="text-base md:text-lg text-text-main/95 font-medium">
            Install Echolia
          </h2>
          <p class="text-sm text-text-muted leading-relaxed">
            Available for Windows, macOS, Linux, and mobile devices.
          </p>
        </div>

        <div class="space-y-3">
          <div class="grid grid-cols-2 gap-2">
            <a
              href="#"
              class="thought-card thought-card-hover flex flex-col gap-1 bg-white/5 border-white/10 text-xs"
            >
              <span class="font-mono text-[11px] text-text-muted/80">desktop</span>
              <span class="text-sm text-text-main/90">Windows</span>
              <span class="text-[11px] text-text-muted">Download .exe</span>
            </a>
            <a
              href="#"
              class="thought-card thought-card-hover flex flex-col gap-1 bg-white/5 border-white/10 text-xs"
            >
              <span class="font-mono text-[11px] text-text-muted/80">desktop</span>
              <span class="text-sm text-text-main/90">macOS</span>
              <span class="text-[11px] text-text-muted">Download .dmg</span>
            </a>
          </div>

          <div class="grid grid-cols-2 gap-2">
            <a
              href="#"
              class="thought-card thought-card-hover flex flex-col gap-1 bg-white/5 border-white/10 text-xs"
            >
              <span class="font-mono text-[11px] text-text-muted/80">desktop</span>
              <span class="text-sm text-text-main/90">Linux</span>
              <span class="text-[11px] text-text-muted">AppImage / .deb</span>
            </a>
            <a
              href="#"
              class="thought-card thought-card-hover flex flex-col gap-1 bg-white/5 border-white/10 text-xs"
            >
              <span class="font-mono text-[11px] text-text-muted/80">mobile</span>
              <span class="text-sm text-text-main/90">Mobile</span>
              <span class="text-[11px] text-text-muted">App Store / Play</span>
            </a>
          </div>

          <p class="pt-2 font-mono text-[11px] text-text-muted/60 leading-relaxed">
            Each build is a doorway. Choose your platform and step inside.
          </p>
        </div>
      </aside>
    </div>
  </section>
</Base>

